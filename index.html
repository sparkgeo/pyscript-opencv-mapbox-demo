<html>
  <head>
    <title>Feature Detector</title>
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <py-config>
      - autoclose_loader: true
      - runtimes:
        - src: "https://cdn.jsdelivr.net/pyodide/dev/full/pyodide.js"
          name: pyodide-dev
          lang: python
    </py-config>
    <py-env>
      - opencv-python
      - paths:
        - ./main.py
    </py-env>
    <style>
      .vertical {
        width: 104px;
        z-index: -1;
      }
      .horizontal {
        width: 50px;
      }
      .hidden {
        display: none;
      }
      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 110px;
        right: 0;
        max-width: 1280px;
        max-height: 1280px;
      }
    </style>
  </head>

  <body>
    <div id="map"></div>
    <div id="debug" class="hidden"></div>
    <button
      id="corner-btn"
      class="p-2 text-white bg-blue-600 border border-blue-600 rounded vertical"
      type="submit"
      pys-onClick="click_corner"
    >
      Detect Corners
    </button><br>
    <button
      id="edge-btn"
      class="p-2 text-white bg-blue-600 border border-blue-600 rounded vertical"
      type="submit"
      pys-onClick="click_edge"
    >
      Detect Edges
    </button><br>
    <button
      id="contour-btn"
      class="p-2 text-white bg-blue-600 border border-blue-600 rounded vertical"
      type="submit"
      pys-onClick="click_contour"
    >
      Detect Visual Contours
    </button><br>
    <py-script src="main.py" output="debug"></py-script>
    <script src="index.js"></script>
  </body>
</html>
